webpackJsonp([88],{LvP4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("yclV"),s=a("2hMI"),n={inject:["reload"],data:function(){return{id:"",totalData:[],detailData:[],cashFlowType:"",cashFlowEvent:"",currentPage:1,pageSize:10,total:0,type_list:[{value:1,label:"收入-管理费"},{value:2,label:"收入-认购服务费"},{value:3,label:"支出"},{value:4,label:"投资"},{value:5,label:"回款"}],cashFlowDropboxShow:!1,no_power_text:"您暂无权限进行此操作！"}},created:function(){this.id=this.$route.query.id,this.getTotalData(),this.getDetailData()},computed:{},mounted:function(){},methods:{getTotalData:function(){var t=this;Object(s._155)({sg_company_manager_id:this.id}).then(function(e){1==e.data.msgNo?t.totalData=e.data.payload.data:Object(l.g)("info",e.data.message)})},getDetailData:function(t){var e=this;t&&(this.currentPage=1),Object(s._151)({sg_company_manager_id:this.id,page:this.currentPage,size:this.pageSize,type:this.cashFlowType,search_content:this.cashFlowEvent}).then(function(t){1==t.data.msgNo?(e.detailData=t.data.payload.data,e.total=t.data.payload.count):Object(l.g)("info",t.data.message)})},deleteCompanyRunCashDetail:function(t){var e=this;if(t.is_del){Object(l.h)("确定要删除该条数据吗").then(function(){Object(s._47)({type:t.type,count:t.count}).then(function(t){1==t.data.msgNo?(Object(l.g)("success",t.data.message),e.getTotalData(),e.detailData.length>1?e.getDetailData():e.currentPage>1?(e.currentPage=e.currentPage-1,e.getDetailData()):e.getDetailData(e.currentPage)):Object(l.g)("info",t.data.message)})}).catch(function(){})}else Object(l.g)("info",this.no_power_text)},everyPageSizeChange:function(t){this.pageSize=t,this.getDetailData()},changeCurrentPage:function(t){this.currentPage=t,this.getDetailData()},viewCash:function(t){var e=this.selectCashFlowType(t.type);this.$router.push({name:e,query:{id:this.id,count:t.count,type:t.inside_type,is_editable:t.is_del}})},deleteCash:function(t,e){},dropSelect:function(t){},DropboxShow:function(){this.cashFlowDropboxShow=!this.cashFlowDropboxShow},toAdd:function(t){var e=this.selectCashFlowType(parseInt(t));this.$router.push({name:e,query:{id:this.id,add:1}})},selectCashFlowType:function(t){var e="";switch(t){case 1:e="cashFlowIncomeManageMoney";break;case 2:e="cashFlowIncomeServiceMoney";break;case 3:e="cashFlowPay";break;case 4:e="cashFlowInvest";break;case 5:e="cashFlowBackMoney"}return e}}},o={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"body"},[l("div",{staticClass:"cash_flow_table_box"},[t._m(0),t._v(" "),l("div",{staticClass:"cash_flow_table table"},[l("el-table",{ref:"multipleTable",attrs:{data:t.totalData,border:""}},[l("el-table-column",{attrs:{prop:"coin",label:"币种",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t"+t._s(1==e.row.unit?"人民币":"美元")+"\n\t\t\t\t\t\t")]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"invest",label:"投资金额（万元）"}}),t._v(" "),l("el-table-column",{attrs:{prop:"return_money",label:"回款本金（万元）"}}),t._v(" "),l("el-table-column",{attrs:{prop:"return_money_taxed",label:"回款收益-税后（万元）"}}),t._v(" "),l("el-table-column",{attrs:{prop:"return_money_total",label:"回款总额（万元）"}}),t._v(" "),l("el-table-column",{attrs:{prop:"income",label:"收入（万元）"}}),t._v(" "),l("el-table-column",{attrs:{prop:"output",label:"支出（万元）"}}),t._v(" "),l("template",{slot:"empty"},[l("div",{staticClass:"table-nodata"},[l("img",{attrs:{src:a("urJZ")}}),t._v(" 没有对应数据\n\t\t\t\t\t\t")])])],2)],1)]),t._v(" "),l("div",{staticClass:"cash_flow_table_box"},[l("div",{staticClass:"cash_flow_table_title flex_between"},[l("div",{staticClass:"flex_start"},[l("span",{staticClass:"circle_blue"}),t._v(" "),l("span",{staticClass:"name"},[t._v("现金流数据")]),t._v(" "),l("el-select",{staticClass:" select_border",staticStyle:{width:"140px","margin-left":"30px"},attrs:{placeholder:"类型",clearable:""},on:{change:function(e){t.getDetailData(1)}},model:{value:t.cashFlowType,callback:function(e){t.cashFlowType=e},expression:"cashFlowType"}},t._l(t.type_list,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),l("div",{staticClass:"search_box"},[l("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"输入事件名称",clearable:""},model:{value:t.cashFlowEvent,callback:function(e){t.cashFlowEvent=e},expression:"cashFlowEvent"}})],1),t._v(" "),l("div",{staticClass:"btn_box"},[l("button",{on:{click:function(e){t.getDetailData(1)}}},[t._v("搜索")])])],1),t._v(" "),l("div",{staticClass:"flex_start"},[l("el-dropdown",{attrs:{trigger:"click"},on:{command:t.toAdd}},[l("span",{staticClass:"el-dropdown-link"},[l("span",{staticClass:"iconfont icon-jia"}),t._v("添加新的现金流\n\t\t\t\t\t\t")]),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{attrs:{command:"3"}},[l("span",{staticClass:"iconfont icon-zhichu "}),l("span",{staticClass:"dropdown_item_name"},[t._v("支出")])]),t._v(" "),l("el-dropdown-item",{attrs:{command:"1"}},[l("span",{staticClass:"iconfont icon-shouru"}),l("span",{staticClass:"dropdown_item_name"},[t._v("收入-管理费")])])],1)],1)],1)]),t._v(" "),l("div",{staticClass:"cash_flow_table"},[l("div",{staticClass:"table-normal-box table"},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.detailData,border:"","max-height":"350"}},[l("el-table-column",{attrs:{sortable:"",label:"序号",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.$index+1)+"\n\t\t\t\t\t\t\t")]}}])}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"date",label:"日期",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"type",label:"类别",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?l("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t收入-管理费\n\t\t\t\t\t\t\t\t")]):2==e.row.type?l("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t收入-认购服务费\n\t\t\t\t\t\t\t\t")]):3==e.row.type?l("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t支出\n\t\t\t\t\t\t\t\t")]):4==e.row.type?l("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t投资\n\t\t\t\t\t\t\t\t")]):l("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t回款\n\t\t\t\t\t\t\t\t")])]}}])}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"event",label:"事件",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"fee",label:"金额（万元）",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"count_fee",label:"应计金额（万元）",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"unit",label:"币种",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(1==e.row.unit?"人民币":"美元")+"\n\t\t\t\t\t\t\t")]}}])}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"note",label:"备注",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.viewCash(e.row)}}},[t._v("查看")]),t._v(" "),e.row.is_del?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.deleteCompanyRunCashDetail(e.row)}}},[t._v("删除")]):t._e()]}}])}),t._v(" "),l("template",{slot:"empty"},[l("div",{staticClass:"table-nodata"},[l("img",{attrs:{src:a("urJZ")}}),t._v(" 没有对应数据\n\t\t\t\t\t\t\t")])])],2),t._v(" "),t.total?l("div",{},[l("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.everyPageSizeChange,"current-change":t.changeCurrentPage}})],1):t._e()],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cash_flow_table_title flex_between"},[e("div",{staticClass:"flex_start"},[e("span",{staticClass:"circle_blue"}),this._v(" "),e("span",{staticClass:"name"},[this._v("汇总数据")])])])}]};var i=a("C7Lr")(n,o,!1,function(t){a("fseN")},"data-v-78b6845b",null);e.default=i.exports},fseN:function(t,e){}});
//# sourceMappingURL=88.ba69a16585201665c1a7.js.map