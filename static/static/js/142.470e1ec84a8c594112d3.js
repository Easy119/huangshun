webpackJsonp([142],{"6m8p":function(t,a){},zdSw:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("yclV"),l=(e("2hMI"),e("lzZH")),i={data:function(){return{id:"",typeList:[{value:1,label:"缴款"},{value:2,label:"投资"},{value:3,label:"回款"},{value:4,label:"分配"},{value:6,label:"收入"},{value:5,label:"支出-其他"},{value:7,label:"支出-管理费"}],total:0,page:1,pageSize:10,cashFlowType:"",cashFlowProject:"",cashFlowDropboxShow:!1,tableHeader:[{param:"unitValue",text:"币种",width:"100"},{param:"subscribe",text:"缴款(万元)",width:"120"},{param:"invest",text:"投资(万元)",width:"120"},{param:"payback",text:"回款返本(万元)",width:"120"},{param:"payback_profile",text:"回款收益-税后(万元)",width:"160"},{param:"payback_sum",text:"回款总额(万元)",width:"120"},{param:"distribution",text:"分配本金(万元)",width:"120"},{param:"distribution_profile",text:"分配收益-税前(万元)",width:"150"},{param:"income",text:"收入(万元)",width:"120"},{param:"output",text:"支出(万元)",width:"120"},{param:"rest_fee",text:"账户余额(万元)",width:"120"}],tableData:[],tableData1:[],type:2}},created:function(){this.id=this.$route.query.id,this.getListSummaryData(),this.getListCashFlowData()},computed:{},mounted:function(){},methods:{DropboxShow:function(){this.cashFlowDropboxShow=!this.cashFlowDropboxShow},toAdd:function(t){var a=this.selectCashFlowType(parseInt(t));this.$router.push({name:a,query:{id:this.id,is_add_page:1,type:this.type}})},selectCashFlowType:function(t){var a="";switch(t){case 1:a="selfAdministerFunRunDataCashFlowJk";break;case 2:a="selfAdministerFunRunDataCashFlowInvest";break;case 3:a="selfAdministerFunRunDataCashFlowBackMoney";break;case 4:a="selfAdministerFunRunDataCashFlowFpEdit";break;case 40:a="selfAdministerFunRunDataCashFlowFp";break;case 5:a="selfAdministerFunRunDataCashFlowPay";break;case 6:a="selfAdministerFunRunDataCashFlowIncom";break;case 7:a="selfAdministerFunRunDataCashFlowPayManage"}return a},toCashFlowPage:function(t){var a=this.selectCashFlowType(t.type);this.$router.push({name:a,query:{id:this.id,type:this.type,count:t.count,is_delete:t.is_delete}})},everyPageSizeChange:function(t){this.pageSize=t,this.getListCashFlowData()},changeCurrentPage:function(t){this.page=t,this.getListCashFlowData()},typeChangeGetData:function(){this.cashFlowProject="",this.page=1,this.getListCashFlowData()},toSearch:function(){this.page=1,this.getListCashFlowData()},getListSummaryData:function(){var t=this;Object(l._19)({petfund_id:this.id}).then(function(a){if(1==a.data.msgNo){var e=a.data.payload.data;e.forEach(function(t){1==t.unit?t.unitValue="人民币":t.unitValue="美元"}),t.tableData=e}})},getListCashFlowData:function(){var t=this;Object(l._18)({page:this.page,page_size:this.pageSize,type:this.cashFlowType,search_content:this.cashFlowProject,petfund_id:this.id}).then(function(a){if(1==a.data.msgNo){var e=a.data.payload;e.data.length>0&&e.data.forEach(function(a,e){a.index=(t.page-1)*t.pageSize+e+1,1==a.unit?(a.fee=a.fee?a.fee+"万人民币":"-",a.should_fee=a.should_fee?a.should_fee+"万人民币":"-"):(a.fee=a.fee?a.fee+"万美元":"-",a.should_fee=a.should_fee?a.should_fee+"万美元":"-")}),t.total=e.count,t.tableData1=e.data}})},toDeleteCashFlow:function(t){var a=this;Object(s.h)("确定要删除该现金流数据吗?").then(function(){Object(l.y)({difference_sign:a.type,count:t.count,type:t.type}).then(function(t){1==t.data.msgNo?(Object(s.g)("success","删除成功"),a.tableData1.length>1?(a.getListSummaryData(),a.getListCashFlowData()):a.page>1?(a.page=a.page-1,a.getListSummaryData(),a.getListCashFlowData()):(a.getListSummaryData(),a.getListCashFlowData())):Object(s.g)("info",t.data.message)})}).catch(function(){})}}},o={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"body"},[s("div",{staticClass:"cash_flow_table_box"},[t._m(0),t._v(" "),s("div",{staticClass:"cash_flow_table table"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[t._l(t.tableHeader,function(t,a){return s("el-table-column",{key:a,attrs:{prop:t.param,label:t.text,width:t.width}})}),t._v(" "),s("template",{slot:"empty"},[s("div",{staticClass:"table-nodata"},[s("img",{attrs:{src:e("urJZ")}}),t._v(" 没有对应数据\n\t\t\t\t\t\t")])])],2)],1)]),t._v(" "),s("div",{staticClass:"cash_flow_table_box"},[s("div",{staticClass:"cash_flow_table_title flex_between"},[s("div",{staticClass:"flex_start"},[s("span",{staticClass:"name"},[t._v("现金流数据")]),t._v(" "),s("el-select",{staticClass:" select_border",staticStyle:{width:"140px","margin-left":"30px"},attrs:{placeholder:"类型",clearable:""},on:{change:function(a){t.typeChangeGetData()}},model:{value:t.cashFlowType,callback:function(a){t.cashFlowType=a},expression:"cashFlowType"}},t._l(t.typeList,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),s("div",{staticClass:"search_box "},[s("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"事件名称",clearable:""},model:{value:t.cashFlowProject,callback:function(a){t.cashFlowProject=a},expression:"cashFlowProject"}})],1),t._v(" "),s("div",{staticClass:"search_box"},[s("div",{staticClass:"btn_box"},[s("button",{on:{click:function(a){t.toSearch()}}},[t._v("搜索")])])])],1),t._v(" "),s("div",{staticClass:"flex_start "},[s("el-dropdown",{attrs:{trigger:"click"},on:{command:t.toAdd}},[s("span",{staticClass:"el-dropdown-link"},[s("span",{staticClass:"iconfont icon-jia"}),t._v("添加新的现金流\n\t\t\t\t\t\t")]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"1"}},[s("span",{staticClass:"iconfont icon-jiaokuan "}),s("span",{staticClass:"dropdown_item_name"},[t._v("缴款")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"2"}},[s("span",{staticClass:"iconfont icon-touzi"}),s("span",{staticClass:"dropdown_item_name"},[t._v("投资")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"3"}},[s("span",{staticClass:"iconfont icon-huikuan"}),s("span",{staticClass:"dropdown_item_name"},[t._v("回款")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"40"}},[s("span",{staticClass:"iconfont icon-fenpei"}),s("span",{staticClass:"dropdown_item_name"},[t._v("分配")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"6"}},[s("span",{staticClass:"iconfont icon-shouru"}),s("span",{staticClass:"dropdown_item_name"},[t._v("收入")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"5"}},[s("span",{staticClass:"iconfont icon-zhichu "}),s("span",{staticClass:"dropdown_item_name"},[t._v("支出-其他")])])],1)],1)],1)]),t._v(" "),s("div",{staticClass:"cash_flow_table table"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData1,border:""}},[s("el-table-column",{attrs:{prop:"index",label:"序号",width:"70"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"date",label:"日期",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"type_name",label:"类型",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"event",label:"事件",width:"230"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"fee",label:"金额",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"should_fee",label:"应计金额",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"note",label:"备注",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.toCashFlowPage(a.row)}}},[t._v("查看")]),t._v(" "),1==a.row.is_delete?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.toDeleteCashFlow(a.row)}}},[t._v("删除")]):t._e()]}}])}),t._v(" "),s("template",{slot:"empty"},[s("div",{staticClass:"table-nodata"},[s("img",{attrs:{src:e("urJZ")}}),t._v(" 没有对应数据\n\t\t\t\t\t\t")])])],2),t._v(" "),t.total>0?s("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","current-page":t.page,"page-size":t.pageSize,layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.everyPageSizeChange,"current-change":t.changeCurrentPage}}):t._e()],1)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"cash_flow_table_title flex_between"},[a("div",{staticClass:"flex_start"},[a("span",{staticClass:"name"},[this._v("汇总数据")])])])}]};var n=e("C7Lr")(i,o,!1,function(t){e("6m8p")},"data-v-4914bd94",null);a.default=n.exports}});
//# sourceMappingURL=142.470e1ec84a8c594112d3.js.map