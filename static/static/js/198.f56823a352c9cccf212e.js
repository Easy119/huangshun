webpackJsonp([198],{"2cAH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("2hMI"),i=a("yclV"),s={name:"addManageCompany",data:function(){return{beianStatus:[],employee:[],tianYanBackData:[],loading:!1,tianYanSelectedItem:{},windcontrol_userid:"",company_name:"",tianyan_id:"",credit_code:"",short_name:"",founding_time:"",record_state:"",area:"",create_user_id:"",manager_code:"",legal_representative:""}},created:function(){this.getBeiAnStatus(),this.getUserList()},mounted:function(){},components:{},methods:{getBeiAnStatus:function(){var e=this;Object(n._142)({}).then(function(t){1==t.data.msgNo?e.beianStatus=t.data.payload.record_state:Object(i.g)("info",t.data.message)})},getUserList:function(){var e=this;Object(n._240)({number:1e4,page:1}).then(function(t){1==t.data.msgNo?(e.employee=t.data.payload.data,e.create_user_id=parseInt(window.localStorage.getItem("htcx_uid"))):Object(i.g)("info",t.data.message)})},submitAddCompany:function(){var e=this;if(this.company_name)Object(n._341)({company_name:this.company_name,tianyan_id:this.tianyan_id,short_name:this.short_name,create_user_id:this.create_user_id,windcontrol_userid:this.windcontrol_userid,area:this.area,record_state:this.record_state,founding_time:this.founding_time,legal_representative:this.legal_representative,manager_code:this.manager_code,credit_code:this.credit_code}).then(function(t){1==t.data.msgNo?(Object(i.g)("success",t.data.message),e.$router.push({name:"manageCompanySituation"})):Object(i.g)("info",t.data.message)});else{Object(i.g)("info","管理公司名称不能为空")}},remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,Object(n._234)({name:e}).then(function(a){if(t.loading=!1,1==a.data.msgNo)if(0==a.data.payload.length)t.tianYanBackData=[{name:e}];else{var n={name:e};a.data.payload.unshift(n),t.tianYanBackData=a.data.payload}})):this.tianYanBackData=[]},changeName:function(e){this.getTianYanId()},getTianYanId:function(){for(var e=this.tianYanBackData,t=0,a=e.length;t<a;t++)if(e[t].name==this.company_name)return this.tianyan_id=e[t].id,void(this.tianyan_id||(this.tianyan_id=""))},isTrueCreditCode:function(e){return!!/^[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}$/g.test(e)}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[e._m(0),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"form flex_between"},[a("div",{staticClass:"form_list flex_between"},[e._m(2),e._v(" "),a("div",{},[a("el-select",{attrs:{"remote-method":e.remoteMethod,loading:e.loading,filterable:"",remote:"",clearable:!0,"reserve-keyword":"",placeholder:"请输入公司名称"},on:{change:e.changeName},model:{value:e.company_name,callback:function(t){e.company_name=t},expression:"company_name"}},e._l(e.tianYanBackData,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}))],1)]),e._v(" "),a("div",{staticClass:"form_list flex_between"},[e._m(3),e._v(" "),a("div",{},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.windcontrol_userid,callback:function(t){e.windcontrol_userid=t},expression:"windcontrol_userid"}},e._l(e.employee,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("div",{staticClass:"form_list flex_between"},[e._m(4),e._v(" "),a("div",{},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.short_name,callback:function(t){e.short_name=t},expression:"short_name"}})],1)]),e._v(" "),a("div",{staticClass:"form_list flex_between"},[e._m(5),e._v(" "),a("div",{},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.create_user_id,callback:function(t){e.create_user_id=t},expression:"create_user_id"}},e._l(e.employee,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("div",{staticClass:"form_list flex_between"},[e._m(6),e._v(" "),a("div",{},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}})],1)]),e._v(" "),a("div",{staticClass:"form_list flex_between"},[e._m(7),e._v(" "),a("div",{},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.record_state,callback:function(t){e.record_state=t},expression:"record_state"}},e._l(e.beianStatus,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("div",{staticClass:"form_list flex_between"},[e._m(8),e._v(" "),a("div",{},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.manager_code,callback:function(t){e.manager_code=t},expression:"manager_code"}})],1)])]),e._v(" "),a("div",{staticClass:"form_btn flex_end"},[a("button",{on:{click:e.submitAddCompany}},[e._v("创建")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"body_header flex_start"},[t("i",{staticClass:"icon iconfont icon-tianjiaguanligongsi"}),this._v(" "),t("span",[this._v("添加管理公司")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block_title flex_between"},[t("div",{staticClass:"title_left flex_start"},[t("div",{staticClass:"radio"}),this._v(" "),t("div",{staticClass:"block_name"},[this._v("\n\t\t\t\t\t公司基本信息\n\t\t\t\t")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex_start"},[t("span",[this._v("管理公司名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("span",[this._v("运营风控负责人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("span",[this._v("管理公司简称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("span",[this._v("数据创建人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("span",[this._v("所属地区")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("span",[this._v("备案状态")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("span",[this._v("私募基金管理人编号")])])}]};var l=a("C7Lr")(s,r,!1,function(e){a("DaGB")},"data-v-16517fe6",null);t.default=l.exports},DaGB:function(e,t){}});
//# sourceMappingURL=198.f56823a352c9cccf212e.js.map