webpackJsonp([93],{"K+1Y":function(t,e){},"RE+7":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("yclV"),l=s("2hMI"),i={name:"investerManageAdd",inject:["reload"],data:function(){return{name:"",cell:"",status:1,email:"",company:"",phone:"",is_main:"",document_type:"",document_no:"",document_expire:"",document_time:"",otherdoc_info:"",relate_investor:[],investor_type:"",partner_type:"",investor_class:2,investor_class_list:[2],ir:"",manager:"",creater:"",place:"",sex:"",birthday:"",address:"",is_open_status:2,account_name:"",account_bankno:"",account_bank:"",subbranch:"",subbranch_prevince:"",subbranch_city:"",company_id:"",manage_company_list:[],is_master_investor_list:[{id:1,name:"是"},{id:0,name:"否"}],allUserList:[],allInvestorList:[],sexList:[{label:"男",value:1},{label:"女",value:2}],investerIdentity:[{value:1,label:"普通"},{value:2,label:"专业"}],investerCharacter:[{value:1,label:"自然人"},{value:2,label:"机构"}],investerType:[{value:0,label:"基金",children:[{value:3,label:"母基金"},{value:5,label:"自管基金"},{value:4,label:"子基金"}]},{value:1,label:"管理公司"},{value:2,label:"一般投资人"}],identityList:[{value:1,label:"身份证"},{value:2,label:"护照"},{value:3,label:"其他国家证件"}]}},created:function(){this.getAllUserList(),this.getReationPersonList()},mounted:function(){},components:{},methods:{addInvesterManageInfo:function(){var t=this,e=this.relate_investor.join(",");2==this.partner_type&&this.clearData();var s={company_id:this.company_id,name:this.name,cell:this.cell,is_main:this.is_main,email:this.email,company:this.company,phone:this.phone,document_type:this.document_type,document_no:this.document_no,document_expire:this.document_expire,document_time:this.document_time,otherdoc_info:this.otherdoc_info,relate_investor:e,investor_type:this.investor_type,partner_type:this.partner_type,investor_class:this.investor_class,ir:this.ir,manager:this.manager,creater:this.creater,place:this.place,sex:this.sex,birthday:this.birthday,address:this.address,open_status:this.is_open_status,account_name:this.account_name,account_bankno:this.account_bankno,account_bank:this.account_bank,subbranch:this.subbranch,subbranch_prevince:this.subbranch_prevince,subbranch_city:this.subbranch_city};if(2==this.investor_class)if(this.partner_type&&this.name){var i=this.checkPhone(this.cell);if(1==this.partner_type&&!i)return void Object(a.g)("info","手机号格式错误");Object(l.p)({info:s}).then(function(e){1==e.data.msgNo?(Object(a.g)("success",e.data.message),t.$router.go(-1)):Object(a.g)("info",e.data.message)})}else this.name?Object(a.g)("info","投资人性质不能为空"):Object(a.g)("info","投资人名称不能为空");else this.company_id?Object(l.p)({info:s}).then(function(e){1==e.data.msgNo?(Object(a.g)("success",e.data.message),t.$router.go(-1)):Object(a.g)("info",e.data.message)}):Object(a.g)("info","投资人名称不能为空")},getAllUserList:function(){var t=this;Object(l._240)({number:1e4,page:1}).then(function(e){1==e.data.msgNo?(t.allUserList=e.data.payload.data,t.creater=parseInt(window.localStorage.getItem("htcx_uid"))):Object(a.g)("info",e.data.message)})},changeHideStatus:function(t){this.is_open_status=1==t?1:2},chooseInvestorType:function(t){if(t.length){var e=t[t.length-1];if(this.investor_class=e,1==e)var s=1;else if(3==e)s=2;else if(4==e)s=4;else if(5==e)s=3;2!=t[t.length-1]&&this.getFundSelectList(s)}else this.investor_class="";this.clearData()},getFundSelectList:function(t){var e=this;Object(l._189)({type:t}).then(function(t){1==t.data.msgNo?e.manage_company_list=t.data.payload:Object(a.g)("info",t.data.message)})},chooseInvestorName:function(t){if(t){var e=this.getSelectedItem(t);this.name=e.name}},getSelectedItem:function(t){return this.manage_company_list.find(function(e){return e.id==t})},clearData:function(){this.relate_investor=[],this.document_time="",this.company="",this.otherdoc_info="",this.birthday="",this.document_no="",this.sex="",this.document_type="",this.place="",this.email="",this.document_expire="",this.cell="",this.investor_type="",this.is_main=""},cancel:function(){this.$router.go(-1)},checkPhone:function(t){return!!/^1[23456789]\d{9}$/.test(t)||""==t},getReationPersonList:function(){var t=this;Object(l._188)({page:1,pageSize:1e4,name:"",ir:"",manager:""}).then(function(e){1==e.data.msgNo?t.allInvestorList=e.data.payload.data:Object(a.g)("info",e.data.message)})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[t._m(0),t._v(" "),s("div",{staticClass:"form flex_between"},[s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t投资人类别\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-cascader",{attrs:{options:t.investerType,"show-all-levels":!1,disabled:!0},on:{change:t.chooseInvestorType},model:{value:t.investor_class_list,callback:function(e){t.investor_class_list=e},expression:"investor_class_list"}})],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t投资人名称\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[2!=t.investor_class_list[0]?s("div",{},[s("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择投资人名称"},on:{change:t.chooseInvestorName},model:{value:t.company_id,callback:function(e){t.company_id=e},expression:"company_id"}},t._l(t.manage_company_list,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1):s("div",{},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])]),t._v(" "),2==t.investor_class?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t投资人性质\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.partner_type,callback:function(e){t.partner_type=e},expression:"partner_type"}},t._l(t.investerCharacter,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t是否为主投资人\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("div",{},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.is_main,callback:function(e){t.is_main=e},expression:"is_main"}},t._l(t.is_master_investor_list,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)])]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t投资人身份\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.investor_type,callback:function(e){t.investor_type=e},expression:"investor_type"}},t._l(t.investerIdentity,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t投资人手机号\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.cell,callback:function(e){t.cell=e},expression:"cell"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t身份到期日\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",editable:!1},model:{value:t.document_expire,callback:function(e){t.document_expire=e},expression:"document_expire"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t邮箱\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t籍贯\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.place,callback:function(e){t.place=e},expression:"place"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t有效证件类型\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.document_type,callback:function(e){t.document_type=e},expression:"document_type"}},t._l(t.identityList,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t性别\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}},t._l(t.sexList,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t有效证件号码\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.document_no,callback:function(e){t.document_no=e},expression:"document_no"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t生日\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",editable:!1},model:{value:t.birthday,callback:function(e){t.birthday=e},expression:"birthday"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t其他证件说明\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请填写国家名称",clearable:""},model:{value:t.otherdoc_info,callback:function(e){t.otherdoc_info=e},expression:"otherdoc_info"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t投资人所属公司\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请填写公司名称",clearable:""},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1)]):t._e(),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t收件详细地址\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请填写详细地址",clearable:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)]),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t证件有效期\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",editable:!1},model:{value:t.document_time,callback:function(e){t.document_time=e},expression:"document_time"}})],1)]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t关联人\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{filterable:"",placeholder:"",multiple:"","collapse-tags":""},model:{value:t.relate_investor,callback:function(e){t.relate_investor=e},expression:"relate_investor"}},t._l(t.allInvestorList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]):t._e(),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\tIR\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.ir,callback:function(e){t.ir=e},expression:"ir"}},t._l(t.allUserList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t客户经理\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.manager,callback:function(e){t.manager=e},expression:"manager"}},t._l(t.allUserList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t创建人\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.creater,callback:function(e){t.creater=e},expression:"creater"}},t._l(t.allUserList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t是否开启客户端账号\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right flex_start"},[s("div",{staticClass:"radio_btn cursor",class:[1==t.is_open_status?"radio_btn_active":""],on:{click:function(e){t.changeHideStatus(1)}}},[t._v("\n\t\t\t\t\t\t是\n\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"radio_btn cursor",class:[2==t.is_open_status?"radio_btn_active":""],on:{click:function(e){t.changeHideStatus(2)}}},[t._v("\n\t\t\t\t\t\t否\n\t\t\t\t\t")])])]):t._e(),t._v(" "),2==t.investor_class&&2!=t.partner_type?s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t登录手机号\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请填写登录手机号",clearable:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)]):t._e()]),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"form_title"},[t._v("\n\t\t\t账户信息\n\t\t")]),t._v(" "),s("div",{staticClass:"form flex_between"},[s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t户名\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.account_name,callback:function(e){t.account_name=e},expression:"account_name"}})],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t银行账号\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.account_bankno,callback:function(e){t.account_bankno=e},expression:"account_bankno"}})],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t开户银行\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.account_bank,callback:function(e){t.account_bank=e},expression:"account_bank"}})],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t支行\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.subbranch,callback:function(e){t.subbranch=e},expression:"subbranch"}})],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t支行省份\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.subbranch_prevince,callback:function(e){t.subbranch_prevince=e},expression:"subbranch_prevince"}})],1)]),t._v(" "),s("div",{staticClass:"form_list flex_start"},[s("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t支行市\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"form_list_right"},[s("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.subbranch_city,callback:function(e){t.subbranch_city=e},expression:"subbranch_city"}})],1)])]),t._v(" "),s("div",{staticClass:"form_submit flex_center"},[s("button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),s("button",{on:{click:t.addInvesterManageInfo}},[t._v("保存")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"company_name flex_between"},[e("div",{staticClass:"company_name_left"},[e("i",{staticClass:"icon iconfont icon-tianjiatouziren"}),this._v(" "),e("span",[this._v("新增投资人")])])])}]};var r=s("C7Lr")(i,n,!1,function(t){s("K+1Y")},"data-v-752c3ddb",null);e.default=r.exports}});
//# sourceMappingURL=93.8729f66775c706aed72e.js.map