webpackJsonp([47],{koIl:function(t,a){},uBe4:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("3cXf"),s=i.n(e),o=i("lB47"),c=i("2hMI"),n=i("lzZH"),l=i("yclV"),r=i("ij9N"),d={data:function(){return{subprojectName:"",subprojectId:"",subscribeFundList:[],plateList:[],creatorList:[],moneyTypeList:[{id:1,name:"人民币"},{id:2,name:"美元"}],commitData:{quote_info:[]},isEditor:!1,saveEditorData:{},type:7}},created:function(){this.subprojectId=this.$route.query.id,this.getModuleInfo(),this.getAllUserList(),this.toGetSubFundDetail()},mounted:function(){},components:{companyDetailBackground:o.a},methods:{changeHideStatus:function(t){this.isEditor&&(this.commitData.is_monitor=1==t?1:0)},addData:function(){this.commitData.quote_info.push({share_code:"",quoted_date:"",quote_id:""})},deleteData:function(t){this.commitData.quote_info.splice(t,1)},changeEditStatus:function(){this.isEditor=!0,this.saveEditorData=JSON.parse(s()(this.commitData))},toCancle:function(){this.isEditor=!1,this.commitData=JSON.parse(s()(this.saveEditorData))},toSave:function(){var t=this,a=JSON.parse(s()(this.commitData)),i=[];a.quote_info.forEach(function(t){var a={share_code:t.share_code,quoted_date:t.quoted_date,list_plate_id:t.quote_id};i.push(a)});var e={id:this.subprojectId,name:a.name,company_name:a.company_name,industry:a.industry,introduce:a.introduce,create_user_id:a.create_user_id,quote_infos:s()(i),tianyan_id:"",is_monitor:a.is_monitor};Object(n._17)(e).then(function(a){1==a.data.msgNo?(Object(l.g)("success","保存成功"),t.isEditor=!1,t.toGetSubFundDetail()):Object(l.g)("info",a.data.message)})},getModuleInfo:function(){var t=this;Object(n._7)({keyword:""}).then(function(a){if(1==a.data.msgNo){var i=a.data.payload;t.plateList=i}})},getFundList:function(){var t=this;Object(n.W)().then(function(a){if(1==a.data.msgNo){var i=a.data.payload;t.subscribeFundList=i}})},getAllUserList:function(){var t=this;Object(c._240)({number:1e4,page:1}).then(function(a){1==a.data.msgNo&&(t.creatorList=a.data.payload.data)})},toGetSubFundDetail:function(){var t=this;Object(n._8)({id:this.subprojectId}).then(function(a){1==a.data.msgNo&&(t.commitData=a.data.payload,t.commitDatacreate_user_id||(t.commitDatacreate_user_id=""),t.commitData.quote_info.forEach(function(t){t.quote_id||(t.quote_id="")}),t.subprojectName=a.data.payload.name)})},downLoadCompanyInfo:function(){var t=window.localStorage.getItem("htcx_server_key"),a=r.a.sourceDataUrl+"/web/Company/CompanyInfoExcel?company_id="+this.subprojectId+"&key="+t+"&new_type="+this.type;window.location.href=a}}},_={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"body"},[t._m(0),t._v(" "),i("div",{staticClass:"company_name flex_start company_name_border"},[i("div",{staticClass:"company_name_left"},[i("i",{staticClass:"icon iconfont icon-gongsixiangqing"}),t._v(" "),i("span",[t._v(t._s(t.subprojectName))])]),t._v(" "),t.isEditor?t._e():i("div",{staticClass:"company_name_right cursor flex_start",on:{click:t.changeEditStatus}},[i("span",[t._v("编辑")]),t._v(" "),i("i",{staticClass:"icon iconfont icon-bianji"})])]),t._v(" "),i("div",{staticClass:"form_box"},[i("div",{staticClass:"form flex_between form_bottom"},[i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t项目名称\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-input",{attrs:{placeholder:"请填写",clearable:"",disabled:!t.isEditor},model:{value:t.commitData.name,callback:function(a){t.$set(t.commitData,"name",a)},expression:"commitData.name"}})],1)]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t项目企业名称\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-input",{attrs:{placeholder:"请填写",clearable:"",disabled:!t.isEditor},model:{value:t.commitData.company_name,callback:function(a){t.$set(t.commitData,"company_name",a)},expression:"commitData.company_name"}})],1)]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t行业\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-input",{attrs:{placeholder:"请填写",clearable:"",disabled:!t.isEditor},model:{value:t.commitData.industry,callback:function(a){t.$set(t.commitData,"industry",a)},expression:"commitData.industry"}})],1)]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t数据创建人\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择",disabled:!t.isEditor},model:{value:t.commitData.create_user_id,callback:function(a){t.$set(t.commitData,"create_user_id",a)},expression:"commitData.create_user_id"}},t._l(t.creatorList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t统一社会信用代码\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-input",{attrs:{placeholder:"",clearable:"",disabled:""},model:{value:t.commitData.credit_code,callback:function(a){t.$set(t.commitData,"credit_code",a)},expression:"commitData.credit_code"}})],1)]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t是否舆情监测\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right flex_start"},[i("div",{staticClass:"radio_btn cursor",class:[t.commitData.is_monitor?"radio_btn_active":""],on:{click:function(a){t.changeHideStatus(1)}}},[t._v("\n\t\t\t\t\t\t\t是\n\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"radio_btn cursor",class:[t.commitData.is_monitor?"":"radio_btn_active"],on:{click:function(a){t.changeHideStatus(2)}}},[t._v("\n\t\t\t\t\t\t\t否\n\t\t\t\t\t\t")])])]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t项目简介\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right form_list_right_textarea"},[i("el-input",{attrs:{placeholder:"请填写",type:"textarea",rows:3,disabled:!t.isEditor},model:{value:t.commitData.introduce,callback:function(a){t.$set(t.commitData,"introduce",a)},expression:"commitData.introduce"}})],1)])]),t._v(" "),t._l(t.commitData.quote_info,function(a,e){return i("div",{key:e,staticClass:"form flex_between form_bottom"},[i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t项目企业股票代码\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-input",{attrs:{placeholder:"请填写",clearable:"",disabled:!t.isEditor},model:{value:a.share_code,callback:function(i){t.$set(a,"share_code",i)},expression:"item.share_code"}})],1)]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t上市/挂牌板块\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择",disabled:!t.isEditor},model:{value:a.quote_id,callback:function(i){t.$set(a,"quote_id",i)},expression:"item.quote_id"}},t._l(t.plateList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t上市时间\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",disabled:!t.isEditor,editable:!1},model:{value:a.quoted_date,callback:function(i){t.$set(a,"quoted_date",i)},expression:"item.quoted_date"}})],1)]),t._v(" "),!t.isEditor&&a.share_price?i("div",{staticClass:"form_list flex_start"},[i("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t\t股价\n\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"form_list_right"},[i("el-input",{attrs:{placeholder:"",clearable:"",disabled:""},model:{value:a.share_price,callback:function(i){t.$set(a,"share_price",i)},expression:"item.share_price"}})],1)]):t._e(),t._v(" "),t.isEditor?i("div",{staticClass:"form_list flex_start"},[t.commitData.quote_info.length>1?i("span",{on:{click:function(a){t.deleteData(e)}}},[t._v("删除")]):t._e(),t._v(" "),e==t.commitData.quote_info.length-1?i("div",{staticClass:"table-group-title-btn btn-blue-border",on:{click:function(a){t.addData()}}},[t._v("\n\t\t\t\t\t\t   新增数据  \n\t\t\t\t\t")]):t._e()]):t._e()])})],2),t._v(" "),t.isEditor?i("div",{staticClass:"form_submit flex_center"},[i("button",{on:{click:function(a){t.toCancle()}}},[t._v("取消")]),t._v(" "),i("button",{on:{click:function(a){t.toSave()}}},[t._v("保存")])]):t._e(),t._v(" "),i("div",{staticClass:"company_background"},[i("div",{staticClass:"block_title flex_between"},[t._m(1),t._v(" "),i("div",{staticClass:"title_right flex_end"},[i("div",{staticClass:"download blue_btn cursor flex_center",on:{click:t.downLoadCompanyInfo}},[i("span",{staticClass:"iconfont icon-daoru cursor"}),t._v(" "),i("span",[t._v("导出企业信息")])])])]),t._v(" "),i("company-detail-background",{attrs:{type:t.type}})],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"body_header"},[a("i",{staticClass:"icon iconfont icon-gongsixiangqing1"}),this._v(" "),a("span",[this._v("项目详情")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"title_left flex_start"},[a("div",{staticClass:"radio"}),this._v(" "),a("div",{staticClass:"block_name"},[this._v("\n\t\t\t\t\t\t合伙企业信息\n\t\t\t\t\t")])])}]};var m=i("C7Lr")(d,_,!1,function(t){i("koIl")},"data-v-ecb56888",null);a.default=m.exports}});
//# sourceMappingURL=47.75287e0c748a1663dc17.js.map