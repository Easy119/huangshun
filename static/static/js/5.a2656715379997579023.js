webpackJsonp([5],{"/igR":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("yclV"),i=a("2hMI"),l={name:"companyRunInvestGroup",inject:["reload"],data:function(){return{id:"",currentPage:1,pageSize:10,totalCount:0,parterCompanyList:[],addData:{id:0,unit:3},fund_type_list:[],fund_id:"",fund_type:"",subscribe:0,tableData:[],auth:"",no_power_text:"您暂无权限进行此操作！"}},created:function(){this.id=this.$route.query.id,this.getCompanyRunParterCompanyList(),this.getCompanyRunInvestList()},mounted:function(){},components:{},methods:{getCompanyRunInvestList:function(){var t=this;Object(i._156)({sg_company_manager_id:this.id,page:this.currentPage,size:this.pageSize}).then(function(e){1==e.data.msgNo?(t.tableData=e.data.payload.data,t.totalCount=e.data.payload.count,t.auth=e.data.payload.auth,t.tableData.unshift(t.addData)):Object(n.g)("info",e.data.message)})},getCompanyRunParterCompanyList:function(){var t=this;Object(i._157)({}).then(function(e){1==e.data.msgNo?(t.all_parterCompanyList=e.data.payload.data,t.fund_type_list=e.data.payload.fund_types):Object(n.g)("info",e.data.message)})},save:function(){var t=this;this.auth.insert_operate?Object(i.i)({sg_company_manager_id:this.id,fund_id:this.fund_id,subscribe:0,fund_type:this.fund_type}).then(function(e){1==e.data.msgNo?(t.fund_id="",t.fund_type="",Object(n.g)("success",e.data.message),t.getCompanyRunParterCompanyList(),t.getCompanyRunInvestList()):Object(n.g)("info",e.data.message)}):Object(n.g)("info",this.no_power_text)},deleteCompanyRunInvestGroup:function(t){var e=this;if(this.auth.delete_operate){var a=t.id;Object(n.h)("确定要删除所选基金吗?").then(function(){Object(i._48)({sg_company_manager_id:e.id,id:a}).then(function(t){1==t.data.msgNo?(Object(n.g)("success",t.data.message),e.tableData.length>1?e.getCompanyRunInvestList():e.currentPage>1?(e.currentPage=e.currentPage-1,e.getCompanyRunInvestList()):e.getCompanyRunInvestList(e.currentPage)):Object(n.g)("info",t.data.message)})}).catch(function(){})}else Object(n.g)("info",this.no_power_text)},changeParterCompany:function(t){this.fund_id="",t&&(this.parterCompanyList=this.all_parterCompanyList[t])},view:function(t){if(this.auth.check_operate){var e=t.fund_type,a="";a=1==e?"motherFundCompanyDetail":2==e?"selfAdministerFundCompanyDetail":"subFundDetail",this.$router.push({name:a,query:{id:t.fund_id}})}else Object(n.g)("info",this.no_power_text)},downloadExcel:function(){Object(i._76)({sg_company_manager_id:this.id}).then(function(t){1==t.data.msgNo?window.location.href=t.data.payload.url:Object(n.g)("info",t.data.message)})},clearData:function(){this.fund_id="",this.fund_type="",this.subscribe=""},everyPageSizeChange:function(t){this.pageSize=t,this.getCompanyRunInvestList()},changeCurrentPage:function(t){this.currentPage=t,this.getCompanyRunInvestList()},getSelectedItem:function(t,e){return t.find(function(t){return t.fund_id==e})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"body fundManage_body"},[n("div",{staticClass:"table_totle_box flex_between"},[n("div",{staticClass:"table_totle_box_left"},[t._v("\n\t\t\t\t投资标的总数"),n("span",[t._v("( "+t._s(t.totalCount)+" )")])]),t._v(" "),n("div",{staticClass:"table_totle_box_right"},[n("div",{staticClass:"table-group-title-btn btn-blue",on:{click:t.downloadExcel}},[n("span",{staticClass:"iconfont icon-daochu"}),t._v("导出excel表格\n\t\t\t\t")])])]),t._v(" "),n("div",{staticClass:"main under_fund"},[n("div",{staticClass:"under_fund_main table"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":"350"}},[n("el-table-column",{attrs:{prop:"index",label:"序号",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?n("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s((t.currentPage-1)*t.pageSize+e.$index)+"\n\t\t\t\t\t\t\t")]):n("div",{},[t._v("\n\t\t\t\t\t\t\t\t新增\n\t\t\t\t\t\t\t")])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"fund_type_name",label:"投资标的类别",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?n("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.fund_type_name)+"\n\t\t\t\t\t\t\t")]):n("div",{},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.changeParterCompany},model:{value:t.fund_type,callback:function(e){t.fund_type=e},expression:"fund_type"}},t._l(t.fund_type_list,function(t){return n("el-option",{key:t.fund_type,attrs:{label:t.fund_type_name,value:t.fund_type}})}))],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"投资标的全称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?n("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.name)+"\n\t\t\t\t\t\t\t")]):n("div",{},[n("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.fund_id,callback:function(e){t.fund_id=e},expression:"fund_id"}},t._l(t.parterCompanyList,function(t){return n("el-option",{key:t.fund_id,attrs:{label:t.name,value:t.fund_id}})}))],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"subscribe",label:"认缴（万元）",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"unit",label:"币种",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.unit?n("div",[t._v("\n\t\t\t\t\t\t\t\t人民币\n\t\t\t\t\t\t\t")]):2==e.row.unit?n("div",[t._v("\n\t\t\t\t\t\t\t\t美元\n\t\t\t\t\t\t\t")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"multiple",label:"倍数",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"investment",label:"投资（万元）",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"back",label:"回款返本（万元）",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"income",label:"回款收益-税后（万元）",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"irr",label:"XIRR",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?n("div",{},[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.view(e.row)}}},[t._v("查看")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.deleteCompanyRunInvestGroup(e.row)}}},[t._v("删除")])],1):n("div",{},[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.save(e)}}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:t.clearData}},[t._v("清除")])],1)]}}])}),t._v(" "),n("template",{slot:"empty"},[n("div",{staticClass:"table-nodata flex_start"},[n("img",{attrs:{src:a("urJZ")}}),t._v(" "),n("span",[t._v("没有对应数据")])])])],2),t._v(" "),t.totalCount?n("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.everyPageSizeChange,"current-change":t.changeCurrentPage}}):t._e()],1)])])},staticRenderFns:[]};var o=a("C7Lr")(l,s,!1,function(t){a("dprX")},"data-v-662aa0ac",null);e.default=o.exports},"3lGp":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("yclV"),i=a("2hMI"),l={name:"investGroup",data:function(){return{id:"",total:0,currentPage:1,pageSize:10,addData:{id:0,unit:3},fund_type:"",fund_id:"",is_freeze:"",fund_type_list:[{value:2,label:"母基金"},{value:3,label:"自管基金"}],fund_List:[],is_freeze_list:[{label:"是",value:1},{label:"否",value:0}],tableData:[]}},created:function(){this.id=this.$route.query.id,this.getInitData()},mounted:function(){},components:{},methods:{getInitData:function(){var t=this;Object(i._190)({investor:this.id}).then(function(e){1==e.data.msgNo?(t.tableData=t.getCurrentData(e.data.payload.data),t.tableData=t.tableData.map(function(t){return t.real_production=t.real_production+"%",t}),t.total=e.data.payload.total,t.tableData.unshift(t.addData)):Object(n.g)("info",e.data.message)})},getCurrentData:function(t){var e=this.currentPage,a=this.pageSize,n=(e-1)*a,i=e*a;return t.slice(n,i)},getFundSelectList:function(t){var e=this;Object(i._189)({type:t}).then(function(t){1==t.data.msgNo?e.fund_List=t.data.payload:Object(n.g)("info",t.data.message)})},addSave:function(){var t=this;Object(i.q)({investor_id:this.id,is_freeze:this.is_freeze,type:this.fund_type,fund_id:this.fund_id}).then(function(e){1==e.data.msgNo?(Object(n.g)("success",e.data.message),t.clearData(),t.getInitData()):Object(n.g)("info",e.data.message)})},deleteFund:function(t){var e=this;Object(n.h)("确定要删除所选基金吗?").then(function(){Object(i._55)({id:t.id,type:t.fund_type}).then(function(t){1==t.data.msgNo?(Object(n.g)("success",t.data.message),e.tableData.length>2?e.getInitData():e.currentPage>1?(e.currentPage=e.currentPage-1,e.getInitData()):e.getInitData()):Object(n.g)("info",t.data.message)})}).catch(function(){})},clearData:function(){this.fund_type="",this.fund_List=[],this.fund_id="",this.is_freeze=""},changeFundType:function(t){this.fund_id="",t?this.getFundSelectList(t):this.fund_List=[]},changeFund:function(t){var e=this.getSelectedItem(this.parterCompanyList,this.fund_id);this.fund_type=e.fund_type},everyPageSizeChange:function(t){this.pageSize=t,this.getInitData()},changeCurrentPage:function(t){this.currentPage=t,this.getInitData()},getSelectedItem:function(t,e){return t.find(function(t){return t.fund_id==e})},view:function(t){if(1==t.fund_type)var e="motherFundCompanyDetail";else e="selfAdministerFundCompanyDetail";this.$router.push({name:e,query:{id:t.fund_id}})},toClick:function(t){}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body fundManage_body"},[a("div",{staticClass:"table_totle_box"},[t._v("\n\t\t\t投资标的总数"),a("span",[t._v("( "+t._s(t.total)+" )")])]),t._v(" "),a("div",{staticClass:"main under_fund"},[a("div",{staticClass:"under_fund_main table"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":"350"}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?a("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.$index+(t.currentPage-1)*t.pageSize)+"\n\t\t\t\t\t\t\t")]):a("div",{},[t._v("\n\t\t\t\t\t\t\t\t新增\n\t\t\t\t\t\t\t")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"short_name",label:"基金简称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fund_type",label:"投资基金类别",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?a("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(1==e.row.fund_type?"母基金":"自管基金")+"\n\t\t\t\t\t\t\t")]):a("div",{},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.changeFundType},model:{value:t.fund_type,callback:function(e){t.fund_type=e},expression:"fund_type"}},t._l(t.fund_type_list,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"基金全称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?a("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.name)+"\n\t\t\t\t\t\t\t")]):a("div",{},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.fund_id,callback:function(e){t.fund_id=e},expression:"fund_id"}},t._l(t.fund_List,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_freeze",label:"是否冻结",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?a("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.is_freeze?"是":"否")+"\n\t\t\t\t\t\t\t")]):a("div",{},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.is_freeze,callback:function(e){t.is_freeze=e},expression:"is_freeze"}},t._l(t.is_freeze_list,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_master",label:"基金类型",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?a("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.is_master_text)+"\n\t\t\t\t\t\t\t")]):a("div",{})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"币种",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?a("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(1==e.row.unit?"人民币":"美元")+"\n\t\t\t\t\t\t\t")]):a("div",{})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"subscribe",label:"认缴（万元）",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subscribe_rate",label:"认缴占比",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"real_fee",label:"实缴（万元）",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"real_rate",label:"实缴占比",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"real_production",label:"实缴进度",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"back",label:"回款返本（万元）",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"income",label:"回款收益-税后（万元）",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_fee",label:"认购服务费",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"irr",label:"XIRR",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id?a("div",{},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.view(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.deleteFund(e.row)}}},[t._v("删除")])],1):a("div",{},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.addSave(e)}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.clearData(e.row)}}},[t._v("清除")])],1)]}}])})],1),t._v(" "),t.total?a("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.everyPageSizeChange,"current-change":t.changeCurrentPage}}):t._e()],1)])])},staticRenderFns:[]};var o=a("C7Lr")(l,s,!1,function(t){a("W0Zm")},"data-v-7209469a",null);e.default=o.exports},W0Zm:function(t,e){},dprX:function(t,e){}});
//# sourceMappingURL=5.a2656715379997579023.js.map