webpackJsonp([7],{"70a2":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("2hMI"),i=a("yclV"),s={data:function(){return{type:1,typename:"",currentPage:1,total:null,pageSize:10,searchText:"",datalist:[]}},watch:{$route:function(t,e){this.init()}},created:function(){this.$route.query.page&&(this.currentPage=parseInt(this.$route.query.page)),this.init()},computed:{},mounted:function(){},methods:{init:function(){var t=this.$route.name;"fundManage"==t?(this.type=1,this.typename="基金数据"):"fundManageSr"==t?(this.type=3,this.typename="基金管理"):(this.type=2,this.typename="基金权限"),this.initData()},initData:function(){var t=this;this.datalist=[];var e={number:this.pageSize,page:this.currentPage,search:this.searchText};1==this.type||3==this.type?e.type=2:2==this.type&&(e.type=1),Object(n._126)(e).then(function(e){1==e.data.msgNo&&(t.datalist=e.data.payload.data,t.total=e.data.payload.total)})},currentChange:function(t){this.total>this.pageSize&&(this.currentPage=t,this.initData())},goEditorInfo:function(t,e){this.$router.push({path:"/home/fundManageDetail",query:{id:t,page:this.currentPage,name:encodeURIComponent(e)}})},gotoViewFundrun:function(){this.$router.push({name:"fundRunAllshow"})},goFundRun:function(t,e){3!=this.type?this.$router.push({path:"/home/fundRun",query:{id:t,page:this.currentPage,name:encodeURIComponent(e)}}):this.$router.push({path:"/home/fundRunSr",query:{id:t,name:encodeURIComponent(e),page:this.currentPage}})},goFundReport:function(t){this.$router.push({path:"/home/investorReport",query:{fundId:t,page:this.currentPage}})},goCreatnew:function(){this.$router.push({path:"/home/fundManageDetail"})},uploadProjectExcel:function(t){var e=this,a=this.$refs.inputer,s=a.files[0];return void 0!=s&&(/\.xl(s[xmb]|t[xm]|am|s)$/.test(s.name)?void Object(n.n)({},s).then(function(t){1==t.data.msgNo?(Object(i.g)("success","导入成功"),e.currentPage=1,a.value="",e.initData()):Object(i.g)("info",t.data.message)}):(Object(i.g)("info","请选择Excel格式文件"),a.value="",!1))},toDownloadCusExcel:function(){Object(n._118)({fileName:"jjdrmb"}).then(function(t){1==t.data.msgNo?window.location.href=t.data.payload:Object(i.g)("info",t.data.message)})},toTransferManage:function(t,e){this.$router.push({path:"/home/fundManageToSet",query:{id:t,page:this.currentPage,name:encodeURIComponent(e)}})},goToDelete:function(t,e){var a=this;Object(i.h)("确定要删除该基金？").then(function(){Object(n._59)({type:e,id:t}).then(function(t){console.log(t),1==t.data.msgNo?(Object(i.g)("success","删除成功"),a.initData()):Object(i.g)("info",t.data.message)})}).catch(function(){})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"personal-content-body"},[n("div",{staticClass:"table-content"},[n("div",{staticClass:"clear table-content-title"},[n("div",{staticClass:"left"},[t._v(t._s(t.typename))]),t._v(" "),n("el-input",{staticClass:"header-right-time right",attrs:{placeholder:"搜索",clearable:!0},on:{change:function(e){t.initData()}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[n("i",{staticClass:"el-input__icon el-icon-search ",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),n("div",{staticClass:"table-group"},[n("div",{staticClass:"table-group-content"},[n("div",{staticClass:"clear table-group-title"},[n("div",{staticClass:"left breadcrumb"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[2==t.type?n("el-breadcrumb-item",{attrs:{to:{name:"administrativeManageHomepageNew"}}},[t._v("行政管理")]):t._e(),t._v(" "),n("el-breadcrumb-item",[t._v(t._s(t.typename)+"（"+t._s(t.total)+"）")])],1)],1),t._v(" "),1==t.type||3==t.type?n("div",{staticClass:"right"},[n("div",{staticClass:"table-group-title-btn btn-blue",on:{click:t.goCreatnew}},[n("span",{staticClass:"iconfont icon-add"}),t._v("添加新基金\n            ")])]):t._e(),t._v(" "),1==t.type||3==t.type?n("div",{staticClass:"right"},[t._m(0),t._v(" "),n("input",{ref:"inputer",staticStyle:{display:"none"},attrs:{type:"file",id:"upload-fund-excel"},on:{change:function(e){t.uploadProjectExcel(e)}}})]):t._e(),t._v(" "),1==t.type||3==t.type?n("div",{staticClass:"right"},[n("div",{staticClass:"table-group-title-btn btn-blue",on:{click:t.toDownloadCusExcel}},[n("span",{staticClass:"iconfont icon-daoru"}),t._v("下载基金信息模版\n            ")])]):t._e(),t._v(" "),1==t.type||3==t.type?n("div",{staticClass:"right"},[n("div",{staticClass:"table-group-title-btn btn-blue",on:{click:t.gotoViewFundrun}},[n("span",{staticClass:"iconfont icon-chaxun"}),t._v("基金运行总览\n            ")])]):t._e()]),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"historyapply-group-tablebox table-group-tablebox"},[n("div",{staticClass:"table-normal-box"},[n("table",{staticClass:"table-normal"},[n("tr",[n("th",[t._v("序号")]),t._v(" "),n("th",[t._v("基金名称")]),t._v(" "),n("th",[t._v("基金规模（万元）")]),t._v(" "),n("th",{attrs:{width:"43"}},[t._v("管理人")]),t._v(" "),n("th",{attrs:{width:"98"}},[t._v("已投项目（个）")]),t._v(" "),n("th",{attrs:{width:"111"}},[t._v("成立时间")]),t._v(" "),1==t.type||3==t.type?n("th",{attrs:{width:"285"}},[t._v("操作")]):t._e(),t._v(" "),2==t.type?n("th",{attrs:{width:"80"}},[t._v("操作")]):t._e()]),t._v(" "),t._l(t.datalist,function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(t.pageSize*(t.currentPage-1)+a+1))]),t._v(" "),n("td",[t._v(t._s(e.fundName))]),t._v(" "),""==e.actualSize||null==e.actualSize?n("td",[t._v("未知")]):n("td",[t._v(t._s(e.actualSize))]),t._v(" "),""==e.name||null==e.name?n("td",{attrs:{width:"43"}},[t._v("无")]):n("td",{attrs:{width:"43"}},[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.com_count))]),t._v(" "),""==e.regTime||null==e.regTime?n("td",{attrs:{width:"111"}},[t._v("未知")]):n("td",[t._v(t._s(e.regTime))]),t._v(" "),1==t.type||3==t.type?n("td",{attrs:{width:"285"}},[n("span",{staticClass:"table-link",on:{click:function(a){t.goFundReport(e.id,e.fundName)}}},[t._v("基金报告")]),t._v(" "),n("span",{staticClass:"table-link",on:{click:function(a){t.goFundRun(e.id,e.fundName)}}},[t._v("基金运行")]),t._v(" "),n("span",{staticClass:"table-link",on:{click:function(a){t.goEditorInfo(e.id,e.fundName)}}},[t._v("编辑")]),t._v(" "),n("span",{staticClass:"table-link",on:{click:function(a){t.goToDelete(e.id,2)}}},[t._v("删除")])]):t._e(),t._v(" "),2==t.type?n("td",{attrs:{width:"80"}},[n("span",{staticClass:"table-link",on:{click:function(a){t.toTransferManage(e.id,e.fundName)}}},[t._v("分配管理人")])]):t._e()])})],2),t._v(" "),0==t.total?n("div",{staticClass:"table-nodata"},[n("img",{attrs:{src:a("urJZ")}}),t._v(" 没有对应数据\n            ")]):t._e()]),t._v(" "),0!=t.total?n("div",{staticClass:"pagination-normal"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"prev-text":"上一页","next-text":"下一页","current-page":t.currentPage},on:{"current-change":t.currentChange}})],1):t._e()])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"upload-fund-excel"}},[e("div",{staticClass:"table-group-title-btn btn-blue"},[e("span",{staticClass:"iconfont icon-daochu2"}),this._v("导入基金信息\n              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-group-tab"},[e("div",{staticClass:"clear"}),this._v(" "),e("div",{staticClass:"line"})])}]};var r=a("C7Lr")(s,o,!1,function(t){a("Guzj")},"data-v-5e749f68",null);e.default=r.exports},Guzj:function(t,e){}});
//# sourceMappingURL=7.2926328d79e6ea3b71f1.js.map