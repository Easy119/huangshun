webpackJsonp([123],{"2CyH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("yclV"),i=(a("2hMI"),a("lzZH")),l={data:function(){return{id:"",typeList:[],total:0,page:1,pageSize:10,cashFlowType:"",cashFlowProject:"",cashFlowDropboxShow:!1,tableHeader:[{param:"unitValue",text:"币种",width:"100"},{param:"invest",text:"投资(万元)",width:"120"},{param:"back",text:"回款返本(万元)",width:"120"},{param:"profile",text:"回款收益-税后(万元)",width:"160"},{param:"sum",text:"回款总额(万元)",width:"120"},{param:"output",text:"支出(万元)",width:"120"}],tableData:[],tableData1:[],type:""}},created:function(){this.id=this.$route.query.id,this.getListSummaryData(),this.getListCashFlowData()},computed:{},mounted:function(){},methods:{DropboxShow:function(){this.cashFlowDropboxShow=!this.cashFlowDropboxShow},toAdd:function(t){var e=this.selectCashFlowType(t);this.$router.push({name:e,query:{id:this.id,is_add_page:1,type:this.type}})},selectCashFlowType:function(t){var e="";switch(t){case 1:e="motherFunRunDataCashFlowJk";break;case 2:e="motherFunRunDataCashFlowInvest";break;case 3:e="motherFunRunDataCashFlowBackMoney";break;case 4:e="motherFunRunDataCashFlowFpEdit";break;case 5:e="motherFunRunDataCashFlowPay";break;case 6:e="motherFunRunDataCashFlowIncom"}return e},toCashFlowPage:function(t){this.$router.push({name:"investerManageCashDetail",query:{id:this.id,count:t.count,type:t.inside_type,cash_type:t.outside_type,company_id:t.sg_company_manager_id}})},everyPageSizeChange:function(t){this.pageSize=t,this.getListCashFlowData()},changeCurrentPage:function(t){this.page=t,this.getListCashFlowData()},typeChangeGetData:function(){this.cashFlowProject="",this.page=1,this.getListCashFlowData()},toSearch:function(){this.page=1,this.getListCashFlowData()},getListSummaryData:function(){var t=this;Object(i.t)({investor_id:this.id}).then(function(e){if(1==e.data.msgNo){var a=e.data.payload.data;a.forEach(function(t){1==t.unit?t.unitValue="人民币":t.unitValue="美元"}),t.tableData=a}})},getListCashFlowData:function(){var t=this;Object(i.s)({page:this.page,size:this.pageSize,type:this.cashFlowType,search_content:this.cashFlowProject,investor_id:this.id}).then(function(e){if(1==e.data.msgNo){var a=e.data.payload;a.data.length>0&&a.data.forEach(function(e,a){e.index=(t.page-1)*t.pageSize+a+1,1==e.unit?e.fee=e.fee?e.fee+"万人民币":"-":e.fee=e.fee?e.fee+"万美元":"-"}),t.total=a.count,t.tableData1=a.data,t.typeList=a.types}})},toDeleteCashFlow:function(t){var e=this;Object(s.h)("确定要删除该现金流数据吗?").then(function(){Object(i.y)({difference_sign:e.type,count:t.count,type:t.type}).then(function(t){1==t.data.msgNo?(Object(s.g)("success","删除成功"),e.tableData1.length>1?(e.getListSummaryData(),e.getListCashFlowData()):e.page>1?(e.page=e.page-1,e.getListSummaryData(),e.getListCashFlowData()):(e.getListSummaryData(),e.getListCashFlowData())):Object(s.g)("info",t.data.message)})}).catch(function(){})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"cash_flow_table_box"},[t._m(0),t._v(" "),s("div",{staticClass:"cash_flow_table table"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},t._l(t.tableHeader,function(t,e){return s("el-table-column",{key:e,attrs:{prop:t.param,label:t.text}})}))],1)]),t._v(" "),s("div",{staticClass:"cash_flow_table_box"},[s("div",{staticClass:"cash_flow_table_title flex_between"},[s("div",{staticClass:"flex_start"},[s("span",{staticClass:"name"},[t._v("现金流数据")]),t._v(" "),s("el-select",{staticClass:" select_border",staticStyle:{width:"140px","margin-left":"30px"},attrs:{placeholder:"类型",clearable:""},on:{change:function(e){t.typeChangeGetData()}},model:{value:t.cashFlowType,callback:function(e){t.cashFlowType=e},expression:"cashFlowType"}},t._l(t.typeList,function(t){return s("el-option",{key:t.type,attrs:{label:t.type_name,value:t.type}})})),t._v(" "),s("div",{staticClass:"search_box "},[s("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"事件名称",clearable:""},model:{value:t.cashFlowProject,callback:function(e){t.cashFlowProject=e},expression:"cashFlowProject"}})],1),t._v(" "),s("div",{staticClass:"search_box"},[s("div",{staticClass:"btn_box"},[s("button",{on:{click:function(e){t.toSearch()}}},[t._v("搜索")])])])],1),t._v(" "),s("div",{staticClass:"flex_start "})]),t._v(" "),s("div",{staticClass:"cash_flow_table table"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData1,border:"","max-height":"350"}},[s("el-table-column",{attrs:{prop:"index",label:"序号",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"date",label:"日期",width:"140"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"outside_type_name",label:"类型",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"event",label:"事件",width:"250"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"fee",label:"金额",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.outside_type?s("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.this_sum_distribution?e.row.this_sum_distribution:e.row.fee)+"\n\t\t\t\t\t\t\t")]):s("div",{},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.fee)+"\n\t\t\t\t\t\t\t")])]}}])}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"note",label:"备注"}}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toCashFlowPage(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),s("template",{slot:"empty"},[s("div",{staticClass:"table-nodata"},[s("img",{attrs:{src:a("urJZ")}}),t._v(" 没有对应数据\n\t\t\t\t\t\t")])])],2),t._v(" "),t.total?s("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","current-page":t.page,"page-size":t.pageSize,layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.everyPageSizeChange,"current-change":t.changeCurrentPage}}):t._e()],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cash_flow_table_title flex_between"},[e("div",{staticClass:"flex_start"},[e("span",{staticClass:"name"},[this._v("汇总数据")])])])}]};var n=a("C7Lr")(l,o,!1,function(t){a("OfWW")},"data-v-5931e6aa",null);e.default=n.exports},OfWW:function(t,e){}});
//# sourceMappingURL=123.f554e754848a4fd70a80.js.map