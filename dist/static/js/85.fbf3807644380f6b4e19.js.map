{"version":3,"sources":["webpack:///src/pages/applyNew/applyListNew.vue","webpack:///./src/pages/applyNew/applyListNew.vue?026f","webpack:///./src/pages/applyNew/applyListNew.vue"],"names":["applyListNew","data","title","list","routeList","pageType","projectId","projInfo","pageSize","keyWord","total","aType","template_id","status","status_str","applytype1","applytypeval","applytypelist","id","name","applyType","1","2","3","4","statusList","-1","0","5","currentPage","watch","created","_this","this","$route","query","aName","length","meta","forEach","element","name_str","initData","mounted","methods","initPage","_this2","_this3","from","Object","api","page","number","then","res","msgNo","payload","$router","push","getListData","undefined","current","parseInt","currentChange","val","_this4","params","kind","type","tid","company_id","changeRouterData","slice","item","add_time","Date","Format","_this5","newObj","changeApplyType","gotoViewapply","mark","approval_id","toCreateApply","everyPageSizeChange","size","changeCurrentPage","applyNew_applyListNew","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","placeholder","clearable","on","change","$event","model","value","callback","$$v","expression","slot","filterable","_l","key","label","click","_m","border","prop","width","scopedSlots","_u","fn","scope","$index","row","src","__webpack_require__","background","layout","prev-text","next-text","current-page","page-size","size-change","current-change","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/85.fbf3807644380f6b4e19.js","sourcesContent":["<template>\n  <div class=\"personal-content-body\">\n    <div class=\"content\">\n      <div class=\"content-title clear\">\n        <!-- <div class=\"left\">审批列表</div> -->\n        <div class=\"left\">{{ title }}列表</div>\n        <!-- <el-input placeholder=\"搜索\" v-model=\"keyWord\" class=\"header-right-time right\" :clearable='true' @change=\"getListData(1)\">\n          <i slot=\"prefix\" class=\"el-input__icon el-icon-search \"></i>\n        </el-input> -->\n      </div>\n      <div class=\"historyapply-group\">\n        <div class=\"clear table-group-title\">\n          <div class=\"left\">\n            <el-input placeholder=\"搜索\" v-model=\"keyWord\" class=\"header-right-time left\" :clearable='true' @change=\"getListData(1)\">\n              <i slot=\"prefix\" class=\"el-input__icon el-icon-search \"></i>\n            </el-input>\n            <div class=\"historyapply-group-top-dropdown select-normal right\">\n              <el-select v-model=\"status_str\" filterable placeholder=\"审批类型\" @change=\"changeApplyType\">\n                <el-option v-for=\"item in applytypelist\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\n                </el-option>\n              </el-select>\n            </div>\n          </div>\n          \n          <!-- 将搜索框移下来 -->\n          <div class=\"right\">\n            <div class=\"right\" @click=\"toCreateApply\">\n              <div class=\"table-group-title-btn btn-blue\">\n                <img src=\"../../images/createapply_icon_create.png\">新建审批\n              </div>\n            </div>\n          </div>\n          <!-- <el-input placeholder=\"搜索\" v-model=\"keyWord\" class=\"header-right-time right\" :clearable='true' @change=\"getListData(1)\">\n          <i slot=\"prefix\" class=\"el-input__icon el-icon-search \"></i>\n        </el-input>\n          <div class=\"right\" @click=\"toCreateApply\">\n            <div class=\"table-group-title-btn btn-blue\">\n              <img src=\"../../images/createapply_icon_create.png\">新建审批\n            </div>\n            </div> -->\n            <div class=\"clear\"></div>\n            <!-- <div class=\"breadcrumb\">\n              <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n                <el-breadcrumb-item v-for=\"(item,index) in routeList\" :key=\"index\" :to=\"{name:item.name,query:item.query}\">{{item.name_str}}</el-breadcrumb-item>\n              </el-breadcrumb>\n            </div> -->\n            <div class=\"line\"></div>\n          </div>\n          \n          <div class=\"historyapply-group-tablebox table\">\n            \n            <el-table :data=\"list\" border>\n              <el-table-column prop=\"\" label=\"序号\" width=\"80\">\n                <template slot-scope=\"scope\"> {{ scope.$index + 1 }} </template>\n              </el-table-column>\n              <el-table-column prop=\"number\" label=\"审批编号\" width=\"200\"></el-table-column>\n              <el-table-column prop=\"title\" label=\"审批标题\" width=\"\"></el-table-column>\n              <el-table-column prop=\"temName\" label=\"审批类型\" width=\"\"></el-table-column>\n              <el-table-column prop=\"name\" label=\"审批申请人\" width=\"\"></el-table-column>\n              <el-table-column prop=\"add_time\" label=\"审批申请时间\" width=\"\"></el-table-column>\n              <el-table-column prop=\"status\" label=\"审批状态\" width=\"\">\n                <template slot-scope=\"scope\">\n                  <span>{{ statusList[scope.row.status] }}</span>\n                </template>\n              </el-table-column>\n              <el-table-column label=\"操作\" width=\"\">\n                <template slot-scope=\"scope\">\n                  <el-button type=\"text\" size=\"small\" class=\"table-link\" @click=\"gotoViewapply(scope.row.approval_id, scope.row.status, scope.row.mark, scope.row.template_id, scope.row.type)\">查看</el-button>\n                </template>\n              </el-table-column>\n              <template slot=\"empty\">\n                <div class=\"table-nodata flex_start\">\n                  <img src=\"../../images/table_nodata.png\">\n                  <span>没有对应数据</span> \n                </div>\n              </template>\n            </el-table>\n            <el-pagination v-if=\"total\"\n              background\n              layout=\"sizes, prev, pager, next, jumper\"\n              prev-text=\"上一页\"\n              next-text=\"下一页\"\n              :total=\"total\"\n              @size-change=\"everyPageSizeChange\"\n              @current-change=\"changeCurrentPage\"\n              :current-page=\"currentPage\"\n              :page-size=\"pageSize\">\n            </el-pagination>\n            \n          </div>\n          <!-- <div class=\"historyapply-group-tablebox\">\n            <div class=\"table-normal-box\">\n              <table class=\"table-normal\">\n                <tr>\n                  <th width=\"40\">序号</th>\n                  <th width=\"80\">审批编号</th>\n                  <th width=\"140\">审批标题</th>\n                  <th width=\"80\">审批类型</th>\n                  <th width=\"100\">审批申请人</th>\n                  <th width=\"100\">审批申请时间</th>\n                  <th width=\"90\">审批状态</th>\n                  <th width=\"120\">操作</th>\n                </tr>\n                <tr v-for=\"(item,index) in list\" :key=\"item.seq\">\n                  <td>{{pageSize*(currentPage-1)+index+1}}</td>\n                  <td>{{item.number}}</td>\n                  <td>{{item.title}}</td>\n                  <td>{{item.temName}}</td>\n                  <td>{{item.name}}</td>\n                  <td>{{item.add_time}}</td>\n                  <td>{{statusList[item.status]}}</td>\n                  <td>\n                    <span class=\"table-link\" @click=\"gotoViewapply(item.approval_id,item.status,item.mark,item.template_id,item.type)\">查看</span>\n                  </td>\n                </tr>\n              </table>\n              <div class=\"table-nodata\" v-if=\"total==0\">\n                <img src=\"../../images/table_nodata.png\"> 没有对应数据\n            </div>\n              </div>\n              <div class=\"pagination-normal\" v-if=\"total!=0\">\n                <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\" prev-text=\"上一页\" next-text=\"下一页\" @current-change=\"currentChange\" :current-page=\"currentPage\">\n                </el-pagination>\n              </div>\n            </div> -->\n          </div>\n        </div>\n      </div>\n</template>\n<script>\nimport {\n  getApplyList,\n  projectLsit,\n  showCopy\n} from '../../config/api'\nimport {\n  dialogConfirmHasbtn,\n  dialogConfirm\n} from '../../config/mUtils'\nexport default {\n  data() {\n    return {\n      title: '',\n      list: [],\n      routeList: [],\n      pageType: 1, //1=>一级2=>项目管理页面进入3=>行政管理页面进入\n      projectId: '', //公司id\n      projInfo: '',\n      pageSize: 10,\n      keyWord: '',\n      total: 0,\n      aType: 1, //审批分组\n      template_id: '', //模版id\n      status: 0, //审批类型\n      status_str: '全部', //审批类型\n      applytype1: 1, //申请类型（废弃）\n      applytypeval: '待我审批',\n      applytypelist: [{\n      \tid: 0,\n      \tname:'全部'\n      },\n      {\n        id: 1,\n        name: '待我审批'\n      }, {\n        id: 2,\n        name: '我已审批'\n      }, {\n        id: 3,\n        name: '我发起的审批'\n      }, {\n        id: 4,\n        name: '抄送我的'\n      }],\n      applyType: {\n        1: '待我审批',\n        2: '我已审批',\n        3: '我发起的审批',\n        4: '抄送我的',\n      },\n      statusList: {\n        '-1': '审批不通过',\n        0: '待审批',\n        1: '审批中',\n        2: '审批人都通过',\n        3: '待处理',\n        4: '审批通过',\n        5: '撤销成功'\n      },\n      currentPage: 1,\n    }\n  },\n  watch: {\n    // $route(to, from) {\n    //   this.initPage();\n    // }\n  },\n  created() {\n    if (this.$route.query.aName) this.title = this.$route.query.aName;\n    if (this.routeList.length != 0) {} else {\n      this.routeList = this.$route.meta.routeList;\n      this.routeList.forEach(element => {\n        if (element.name_str == '行政管理') {\n          element.name_str = this.$route.query.aName;\n        }\n      });\n    }\n    this.initData();\n  },\n  mounted() {},\n  methods: {\n    initPage() {\n      this.routeList = this.$route.meta.routeList;\n      this.routeList.forEach(element => {\n        if (element.name_str == '行政管理') {\n          element.name_str = this.$route.query.aName;\n        }\n      });\n      this.initData();\n    },\n    initData() {\n      //获取页面入口（1=>一级2=>项目管理页面进入3=>行政管理页面进入）\n      if (!this.$route.query.from) {} else {\n        this.pageType = this.$route.query.from\n      }\n      //从项目进入\n      if (this.pageType == 2) {\n        if (!this.$route.query.projectId) {\n          this.$router.push({\n            name: 'investProjectManageList'\n          })\n        } else {\n          this.projectId = this.$route.query.projectId;\n          //获取项目信息\n          projectLsit({\n            page: 1,\n            number: 10,\n            id: this.projectId\n          }).then(res => {\n            if (res.data.msgNo == 1) {\n              this.projInfo = res.data.payload.data[0]\n            }\n          })\n        }\n      } else if (this.pageType == 3) {\n        if (!this.$route.query.template_id) {\n          this.template_id = ''\n        } else {\n          this.template_id = this.$route.query.template_id;\n        }\n      }\n      //获取模版类别\n      if (!this.$route.query.aType) {\n        this.aType = '';\n      } else {\n        this.aType = this.$route.query.aType\n      }\n      //状态\n      if (!this.$route.query.status) {\n        this.status = 0;\n        this.status_str = \"全部\";\n        this.getListData(1);\n      } else {\n        this.status = this.$route.query.status;\n        this.status_str = this.applyType[this.status];\n      }\n      //if\n      this.routeList.forEach(element => {\n        if (element.name_str == '审批列表') {\n          if (element.query.current == undefined || parseInt(element.query.current) == 'NAN') {} else {\n            this.getListData(parseInt(element.query.current));\n          }\n        }\n      });\n    },\n    currentChange(val) {\n      if (this.total > this.pageSize) {\n        this.getListData(val)\n      }\n    },\n    //获取数据\n    getListData(val) {\n      this.list = [];\n      this.currentPage = val;\n      \n      \n      let params = {\n        kind: this.status,//下拉选择的状态\n        status: this.status,//下拉选择的状态\n        page: this.currentPage,\n        pageSize: this.pageSize,\n        query: this.keyWord,\n        type: this.aType,\n        tid: this.template_id,\n        company_id: this.projectId\n      }\n      \n      \n      getApplyList(params).then(res => {\n        this.changeRouterData();\n        let data = res.data.payload;\n        this.total = data.total || 0;\n        let list = data.data;\n        if(this.status==0){\n          list = list.slice(this.currentPage*this.pageSize - this.pageSize , this.currentPage*this.pageSize);\n        }\n        list.forEach(item => {\n          item.add_time = new Date(item.add_time * 1000).Format('yyyy-MM-dd')\n        })\n        if (list.length != 0) {\n          this.list = list;\n        }\n       \n      })\n    },\n    changeRouterData() {\n      this.routeList.forEach(element => {\n        if (element.name_str == '审批列表') {\n          let newObj = element.query;\n          newObj.status = this.status;\n          newObj.current = this.currentPage;\n          this.$router.push({\n            name: element.name,\n            query: newObj,\n          })\n        }\n\n      });\n    },\n    changeApplyType(val) {\n      this.status = val;\n      this.currentPage=1;\n      this.getListData(1);\n    },\n    //前往查看页面\n    /***************\n     * template_id:模版id\n     * type：属于那一个类型的模版如：或 出勤休假 或 用印审批 或 签字审批\n     * \n     */\n    gotoViewapply(id, status,mark,template_id,type) {\n      if (this.status == 1 || this.status == 2 || this.status == 4) {\n        status = 2//其他的\n      } else if(this.status==0){\n        status = 3//全部的 \n      } else {\n        status = 1//我发起的\n      }\n      let name = '';\n      if(mark=='old'){\n        name = 'viewApply';\n      }else{\n        name ='viewApplyNew' ;\n      }\n      if (this.pageType == 2) {\n        this.$router.push({\n          name: name,\n          query: {\n            approval_id: id,\n            status: status,\n            from: this.pageType,\n            template_id: template_id,\n            aType: type,\n            projectId: this.projectId\n          }\n        })\n      } else {\n        this.$router.push({\n          name: name,\n          query: {\n            approval_id: id,\n            status: status,\n            from: this.pageType,\n            template_id: template_id,\n            aType: type,\n            aName: this.$route.query.aName,\n          }\n        })\n      }\n    },\n    //新建审批\n    toCreateApply() {\n      if (this.pageType == 2 || this.pageType == 1) {\n        this.$router.push({\n          name: 'createApplyHomepageNew',\n          query: {\n            projectId: this.projectId,\n            from: this.pageType\n          }\n        })\n      } else {\n        this.$router.push({\n          name: 'createApplyNew',\n          query: {\n            template_id: this.$route.query.template_id,\n            aType: this.$route.query.aType,\n            aName: this.$route.query.aName,\n            from: 3\n          }\n        })\n      }\n    },\n    // 分页功能 （lz）\n    everyPageSizeChange(size) {\n      this.pageSize = size;\n      this.getListData(1);\n    },\n    changeCurrentPage(page) {\n      this.getListData(page);\n    }\n  }\n}\n\n</script>\n<style lang=\"scss\" scoped>\n@import '../../style/modal.scss';\n\n.content {\n  width: 100%;\n  min-height: 100%;\n  min-width: 1000px;\n  // background-color: white;\n  padding: 30px 30px;\n  border-radius: 15px;\n}\n\n.content-title {\n  width: 100%;\n  .left{\n    font-weight: 400;\n    line-height: 18px;\n  }\n}\n\n\n.histroyapply-icon {\n  width: 15px;\n  height: 15px;\n  background: url('../../images/histroyapply_icon.png') no-repeat;\n  display: inline-block;\n  float: left;\n  margin: 2px 6px 0px 0px;\n}\n\n.historyapply-group {\n  width: 100%;\n  // border: 1px solid #E4E4E4;\n  padding: 18px 0 16px;\n}\n\n.historyapply-group-total {\n  font-size: 18px;\n  color: #3C98E8;\n  font-weight: bold;\n  line-height: 1em;\n  margin-bottom: 35px;\n}\n\n.historyapply-group-tablebox {\n  // padding: 0px 18px 0px 14px;\n  // padding: 0px 50px;\n  // padding: 0px 20px;\n  min-height: 440px;\n}\n\n.table-normal-box {\n  min-height: 440px;\n}\n\n.pagination-normal {\n  text-align: center;\n  margin-top: 20px;\n}\n\n.header-right-time {\n  margin-right: 10px;\n  position: relative;\n}\n\n.header-right-time:nth-child(2) {\n  margin-right: 0px;\n}\n\n.creditCz-box span:hover {\n  cursor: pointer;\n  color: #3C98E8;\n}\n\n.creditCz-box span:nth-child(2) {\n  //padding: 0 10px;\n}\n\n.btn-cancle {\n  border: 1px solid #3C98E8;\n  color: #3C98E8;\n  margin-right: 20px;\n}\n\n.form-group-inputbox {\n  width: 470px;\n  margin-right: 0px;\n}\n\n.breadcrumb {\n  margin-top: 19px;\n  padding: 0px 14px;\n}\n\n.table-group-title{\n  padding: 0;\n}\n\n.table-group-title-btn {\n  display: flex;\n  align-items: center;\n\n  img {\n    margin-right: 8px;\n  }\n}\n\n.historyapply-group-top-dropdown {\n  margin-right: 10px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/applyNew/applyListNew.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"personal-content-body\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content-title clear\"},[_c('div',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.title)+\"列表\")])]),_vm._v(\" \"),_c('div',{staticClass:\"historyapply-group\"},[_c('div',{staticClass:\"clear table-group-title\"},[_c('div',{staticClass:\"left\"},[_c('el-input',{staticClass:\"header-right-time left\",attrs:{\"placeholder\":\"搜索\",\"clearable\":true},on:{\"change\":function($event){_vm.getListData(1)}},model:{value:(_vm.keyWord),callback:function ($$v) {_vm.keyWord=$$v},expression:\"keyWord\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search \",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})]),_vm._v(\" \"),_c('div',{staticClass:\"historyapply-group-top-dropdown select-normal right\"},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"审批类型\"},on:{\"change\":_vm.changeApplyType},model:{value:(_vm.status_str),callback:function ($$v) {_vm.status_str=$$v},expression:\"status_str\"}},_vm._l((_vm.applytypelist),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"right\",on:{\"click\":_vm.toCreateApply}},[_vm._m(0)])]),_vm._v(\" \"),_c('div',{staticClass:\"clear\"}),_vm._v(\" \"),_c('div',{staticClass:\"line\"})]),_vm._v(\" \"),_c('div',{staticClass:\"historyapply-group-tablebox table\"},[_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"序号\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.$index + 1)+\" \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"审批编号\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"审批标题\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"temName\",\"label\":\"审批类型\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"审批申请人\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"add_time\",\"label\":\"审批申请时间\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"审批状态\",\"width\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.statusList[scope.row.status]))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"table-link\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.gotoViewapply(scope.row.approval_id, scope.row.status, scope.row.mark, scope.row.template_id, scope.row.type)}}},[_vm._v(\"查看\")])]}}])}),_vm._v(\" \"),_c('template',{slot:\"empty\"},[_c('div',{staticClass:\"table-nodata flex_start\"},[_c('img',{attrs:{\"src\":require(\"../../images/table_nodata.png\")}}),_vm._v(\" \"),_c('span',[_vm._v(\"没有对应数据\")])])])],2),_vm._v(\" \"),(_vm.total)?_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"sizes, prev, pager, next, jumper\",\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"total\":_vm.total,\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize},on:{\"size-change\":_vm.everyPageSizeChange,\"current-change\":_vm.changeCurrentPage}}):_vm._e()],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-group-title-btn btn-blue\"},[_c('img',{attrs:{\"src\":require(\"../../images/createapply_icon_create.png\")}}),_vm._v(\"新建审批\\n            \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7da98a58\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/applyNew/applyListNew.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7da98a58\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./applyListNew.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./applyListNew.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./applyListNew.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7da98a58\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./applyListNew.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7da98a58\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/applyNew/applyListNew.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}