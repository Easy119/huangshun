webpackJsonp([155],{RWsi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("aA9S"),s=a.n(i),n=a("2hMI"),l=a("yclV"),r={name:"subFundAdd",data:function(){return{loading:!1,tianYanBackData:[],allFilingStatus:[],allUserList:[],allSubscriptionFundList:[{label:"母基金基金",options:[]},{label:"自管基金",options:[]}],name:"",short_name:"",unit:1,industry_date:"",company:"",agreement_date:"",fund_expire1:"",fund_expire2:"",fund_expire3:"",fund_scale:"",response_partner:"",manager:"",creater:"",filing_status:"",filing_number:"",is_hidden:0,coinList:[{value:1,label:"人民币"},{value:2,label:"美元"}]}},created:function(){this.getBeiAnStatus(),this.getAllUserList(),this.getSubscriptionFundList()},mounted:function(){},components:{},methods:{saveSubmit:function(){var t=this;if(this.isValidFundTime()){var e="";if(""==this.fund_expire2&&""==this.fund_expire3)e=this.fund_expire1;else{if(""==this.fund_expire2&&""!=this.fund_expire3)return void Object(l.g)("info","基金期限不能为空!");e=""!=this.fund_expire2&&""==this.fund_expire3?this.fund_expire1+"+"+this.fund_expire2:this.fund_expire1+"+"+this.fund_expire2+"+"+this.fund_expire3}if(!this.industry_date||!this.agreement_date||this.industry_date<this.agreement_date){if(""!=this.fund_scale){if(Object(l.p)(parseInt(this.fund_scale)))return void Object(l.g)("info","基金规模数据过大");if(!Object(l.n)(this.fund_scale)||parseFloat(this.fund_scale)<0)return void Object(l.g)("info","基金规模应大于等于0")}var a={short_name:this.short_name,name:this.name,unit:this.unit,industry_date:this.industry_date,company:this.company,agreement_date:this.agreement_date,fund_expire:e,fund_scale:this.fund_scale,response_partner:this.response_partner,manager:this.manager,creater:this.creater,filing_status:this.filing_status,filing_number:this.filing_number,is_hidden:this.is_hidden};this.name&&this.short_name?Object(n._316)({info:a}).then(function(e){1==e.data.msgNo?(Object(l.g)("success",e.data.message),t.$router.go(-1)):Object(l.g)("info",e.data.message)}):this.name?Object(l.g)("info","基金简称不能为空"):Object(l.g)("info","合伙企业不能为空")}else Object(l.g)("info","协议到期日应大于工商设立日期")}},isValidFundTime:function(){if(this.fund_expire1){var t=Object(l.q)(this.fund_expire1),e=Object(l.q)(this.fund_expire2),a=Object(l.q)(this.fund_expire3);return this.fund_expire2&&!e?(Object(l.g)("info","基金期限输入格式不对"),!1):this.fund_expire3&&!a?(Object(l.g)("info","基金期限输入格式不对"),!1):!!t||(Object(l.g)("info","基金期限输入格式不对"),!1)}return Object(l.g)("info","基金期限不能为空"),!1},cancel:function(){this.$router.go(-1)},getSubscriptionFundList:function(){var t=this;Object(n._231)({}).then(function(e){1==e.data.msgNo?(t.allSubscriptionFundList[0].options=s()({},e.data.payload.fof_fund),t.allSubscriptionFundList[1].options=s()({},e.data.payload.self_fund)):Object(l.g)("info",e.data.message)})},getBeiAnStatus:function(){var t=this;Object(n._142)({}).then(function(e){1==e.data.msgNo?t.allFilingStatus=e.data.payload.record_state:Object(l.g)("info",e.data.message)})},getAllUserList:function(){var t=this;Object(n._240)({number:1e4,page:1}).then(function(e){1==e.data.msgNo?(t.allUserList=e.data.payload.data,t.creater=parseInt(window.localStorage.getItem("htcx_uid"))):Object(l.g)("info",e.data.message)})},remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,Object(n._234)({name:t}).then(function(a){if(e.loading=!1,1==a.data.msgNo)if(0==a.data.payload.length)e.tianYanBackData=[{name:t}];else{var i={name:t};a.data.payload.unshift(i),e.tianYanBackData=a.data.payload}})):this.tianYanBackData=[]},changeName:function(t){this.getTianYanId()},getTianYanId:function(){for(var t=this.tianYanBackData,e=0,a=t.length;e<a;e++)if(t[e].name==this.company_name)return void(t[e].id?this.tianyan_id=t[e].id:this.tianyan_id="")},changeHideStatus:function(t){this.is_hidden=1==t?1:0}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[t._m(0),t._v(" "),a("div",{staticClass:"form flex_between"},[a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t合伙企业\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-select",{attrs:{"remote-method":t.remoteMethod,loading:t.loading,filterable:"",remote:"",clearable:!0,"reserve-keyword":"",placeholder:"请输入公司名称"},on:{change:t.changeName},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},t._l(t.tianYanBackData,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t基金期限（年）\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right fund_limit_time flex_between"},[a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.fund_expire1,callback:function(e){t.fund_expire1=e},expression:"fund_expire1"}}),t._v(" "),a("span",[t._v("+")]),t._v(" "),a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.fund_expire2,callback:function(e){t.fund_expire2=e},expression:"fund_expire2"}}),t._v(" "),a("span",[t._v("+")]),t._v(" "),a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.fund_expire3,callback:function(e){t.fund_expire3=e},expression:"fund_expire3"}})],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t基金简称\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.short_name,callback:function(e){t.short_name=e},expression:"short_name"}})],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t基金规模（万元）\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:"",maxlength:"16"},model:{value:t.fund_scale,callback:function(e){t.fund_scale=e},expression:"fund_scale"}})],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t币种\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}},t._l(t.coinList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t负责合伙人\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.response_partner,callback:function(e){t.response_partner=e},expression:"response_partner"}},t._l(t.allUserList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t工商设立日期\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",editable:!1},model:{value:t.industry_date,callback:function(e){t.industry_date=e},expression:"industry_date"}})],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t投研经理\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.manager,callback:function(e){t.manager=e},expression:"manager"}},t._l(t.allUserList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t数据创建人\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.creater,callback:function(e){t.creater=e},expression:"creater"}},t._l(t.allUserList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t管理公司全称\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t备案状态\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.filing_status,callback:function(e){t.filing_status=e},expression:"filing_status"}},t._l(t.allFilingStatus,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t私募基金备案编号\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.filing_number,callback:function(e){t.filing_number=e},expression:"filing_number"}})],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t协议到期日\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",editable:!1},model:{value:t.agreement_date,callback:function(e){t.agreement_date=e},expression:"agreement_date"}})],1)]),t._v(" "),a("div",{staticClass:"form_list flex_start"},[a("div",{staticClass:"form_list_left"},[t._v("\n\t\t\t\t\t是否隐藏\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"form_list_right flex_start"},[a("div",{staticClass:"radio_btn cursor",class:[t.is_hidden?"radio_btn_active":""],on:{click:function(e){t.changeHideStatus(1)}}},[t._v("\n\t\t\t\t\t\t是\n\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"radio_btn cursor",class:[t.is_hidden?"":"radio_btn_active"],on:{click:function(e){t.changeHideStatus(2)}}},[t._v("\n\t\t\t\t\t\t否\n\t\t\t\t\t")])])])]),t._v(" "),a("div",{staticClass:"form_submit flex_center"},[a("button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("button",{on:{click:t.saveSubmit}},[t._v("保存")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"company_name flex_between"},[e("div",{staticClass:"company_name_left"},[e("i",{staticClass:"icon iconfont icon-gongsixiangqinglogo"}),this._v(" "),e("span",[this._v("新增子基金")])])])}]};var c=a("C7Lr")(r,o,!1,function(t){a("fvPm")},"data-v-3ddce6e8",null);e.default=c.exports},fvPm:function(t,e){}});
//# sourceMappingURL=155.6743057888d9b97ed852.js.map