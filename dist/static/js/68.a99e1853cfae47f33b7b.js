webpackJsonp([68],{"3of4":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("yclV"),a("2hMI");var l=a("lzZH"),s={data:function(){return{id:"",typeList:[],total:0,page:1,pageSize:10,cashFlowType:"",cashFlowProject:"",cashFlowDropboxShow:!1,tableHeader:[{param:"unitValue",text:"币种",width:"100"},{param:"subscribe",text:"缴款(万元)",width:"120"},{param:"sum",text:"分配总额(万元)",width:"120"},{param:"sum_fee",text:"分配本金(万元)",width:"160"},{param:"sum_fee_after_tax",text:"分配收益-税后(万元)",width:"120"}],tableData:[],tableData1:[],type:""}},created:function(){this.id=this.$route.query.id,this.getListSummaryData(),this.getListCashFlowData()},computed:{},mounted:function(){},methods:{DropboxShow:function(){this.cashFlowDropboxShow=!this.cashFlowDropboxShow},toCashFlowPage:function(t){this.$router.push({name:"subFundRunCashListDetail",query:{id:this.id,count:t.count,type:t.inside_type,cash_type:t.outside_type}})},everyPageSizeChange:function(t){this.pageSize=t,this.getListCashFlowData()},changeCurrentPage:function(t){this.page=t,this.getListCashFlowData()},typeChangeGetData:function(){this.cashFlowProject="",this.page=1,this.getListCashFlowData()},toSearch:function(){this.page=1,this.getListCashFlowData()},getListSummaryData:function(){var t=this;Object(l.r)({childfund_id:this.id}).then(function(e){if(1==e.data.msgNo){var a=e.data.payload.data;a.forEach(function(t){1==t.unit?t.unitValue="人民币":t.unitValue="美元"}),t.tableData=a}})},getListCashFlowData:function(){var t=this;Object(l.q)({page:this.page,size:this.pageSize,type:this.cashFlowType,search_content:this.cashFlowProject,childfund_id:this.id}).then(function(e){if(1==e.data.msgNo){var a=e.data.payload;a.data.length>0&&a.data.forEach(function(e,a){e.index=(t.page-1)*t.pageSize+a+1,1==e.unit?(e.fee=e.fee?e.fee+"万人民币":"-",e.should_fee=e.should_fee?e.should_fee+"万人民币":"-",e.unitValue="人民币"):(e.fee=e.fee?e.fee+"万美元":"-",e.should_fee=e.should_fee?e.should_fee+"万美元":"-",e.unitValue="美元")}),t.total=a.count,t.tableData1=a.data,t.typeList=a.types}})}}},i={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"body"},[l("div",{staticClass:"cash_flow_table_box"},[t._m(0),t._v(" "),l("div",{staticClass:"cash_flow_table table"},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},t._l(t.tableHeader,function(t,e){return l("el-table-column",{key:e,attrs:{prop:t.param,label:t.text}})}))],1)]),t._v(" "),l("div",{staticClass:"cash_flow_table_box"},[l("div",{staticClass:"cash_flow_table_title flex_between"},[l("div",{staticClass:"flex_start"},[l("span",{staticClass:"name"},[t._v("现金流数据")]),t._v(" "),l("el-select",{staticClass:" select_border",staticStyle:{width:"140px","margin-left":"30px"},attrs:{placeholder:"类型",clearable:""},on:{change:function(e){t.typeChangeGetData()}},model:{value:t.cashFlowType,callback:function(e){t.cashFlowType=e},expression:"cashFlowType"}},t._l(t.typeList,function(t){return l("el-option",{key:t.type,attrs:{label:t.type_name,value:t.type}})})),t._v(" "),l("div",{staticClass:"search_box "},[l("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"事件名称",clearable:""},model:{value:t.cashFlowProject,callback:function(e){t.cashFlowProject=e},expression:"cashFlowProject"}})],1),t._v(" "),l("div",{staticClass:"search_box"},[l("div",{staticClass:"btn_box"},[l("button",{on:{click:function(e){t.toSearch()}}},[t._v("搜索")])])])],1)]),t._v(" "),l("div",{staticClass:"cash_flow_table table"},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData1,border:"","max-height":"350"}},[l("el-table-column",{attrs:{prop:"index",label:"序号",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"date",label:"日期",width:"140"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"outside_type_name",label:"类型",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"event",label:"事件",width:"250"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"fee",label:"金额",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"should_fee",label:"应计金额",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"unitValue",label:"币种",width:"195"}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"note",label:"备注",width:"195"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toCashFlowPage(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),l("template",{slot:"empty"},[l("div",{staticClass:"table-nodata"},[l("img",{attrs:{src:a("urJZ")}}),t._v(" 没有对应数据\n\t\t\t\t\t\t")])])],2),t._v(" "),t.total>0?l("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",background:"","current-page":t.page,"page-size":t.pageSize,layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.everyPageSizeChange,"current-change":t.changeCurrentPage}}):t._e()],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cash_flow_table_title flex_between"},[e("div",{staticClass:"flex_start"},[e("span",{staticClass:"name"},[this._v("现金流汇总数据")])])])}]};var o=a("C7Lr")(s,i,!1,function(t){a("s2wB")},"data-v-c5ea0bd4",null);e.default=o.exports},s2wB:function(t,e){}});
//# sourceMappingURL=68.a99e1853cfae47f33b7b.js.map